!function(r){"use strict";r(document).ready(function(){r(document).on("click","#yz-add-ad",function(e){e.preventDefault();var t=r("#yz-ads-form"),a=r.yz_getAddData(t,"yz_ad"),d={selector:r(".yz-ad-title"),AD_banner:a.banner,AD_title:a.title,AD_type:a.type,AD_code:a.code,AD_url:a.url};if(!r.validate_ad_data(d))return!1;var n="yz_ads[yz_ad_"+yz_nextAD+"]",i="adsense"==a.type?"yz_show_icon":"yz_hide_icon",l="banner"==a.type?"style='background-image: url( "+a.banner+" );'":"";r("#yz_ads").prepend('<li class="yz-ad-item" data-ad-name="yz_ad_'+yz_nextAD+'"><div class="yz-ad-img '+i+'" '+l+'><i class="fas fa-code"></i></div><div class="yz-ad-data"><h2 class="yz-ad-title">'+a.title+'</h2><div class="yz-ad-actions"><a class="yz-edit-item yz-edit-ad"></a><a class="yz-delete-item yz-delete-ad"></a></div></div><input type="hidden" name="'+n+'[title]" value="'+a.title+'"><input type="hidden" name="'+n+'[is_sponsored]" value="'+a.is_sponsored+'"><input type="hidden" name="'+n+'[url]" value="'+a.url+'"><input type="hidden" name="'+n+'[type]" value="'+a.type+'"><input type="hidden" name="'+n+'[code]" value="'+encodeURIComponent(a.code)+'"><input type="hidden" name="'+n+'[banner]" value="'+a.banner+'"></li>'),r.yz_HideModal(t),yz_nextAD++}),r(".yz-edit-ad").live("click",function(){var e=r(this).closest(".yz-ad-item");r.yz_EditForm({item:e,form_title:yz.update_ad,button_id:"yz-update-ad",form:r("#yz-ads-form")}),r.enable_live_preview()}),r("#yz-update-ad").live("click",function(e){e.preventDefault();var t=r("#yz-ads-form"),a=r.yz_getItemObject(t),d=r.yz_getNewData(t,"keyToVal"),n={old_title:a.find(".yz-ad-title").text(),selector:r(".yz-ad-title"),AD_banner:d.banner,AD_title:d.title,AD_code:d.code,AD_type:d.type,AD_url:d.url};if(!r.validate_ad_data(n))return!1;r.yz_updateFieldsData(t)}),r("input[name=yz_ad_type]").live("change",function(){var e=".yz-adcode-item",t=".yz-adbanner-items",a=r(this).closest(".yz-ads-form");"adsense"==this.value?a.find(t).fadeToggle(400,function(){a.find(e).fadeToggle(400)}):a.find(e).fadeToggle(400,function(){a.find(t).fadeToggle(400)})}),r.validate_ad_data=function(e){var t=r.extend({},e),a=r.yz_isAlreadyExist({selector:t.selector,value:t.AD_title,old_title:t.old_title,type:"text"});if(!t.AD_title||a)return r.ShowPanelMessage({msg:yz.empty_ad,type:"error"}),!1;if("banner"==t.AD_type){if(!function(e){if(!e)return r.ShowPanelMessage({msg:yz.empty_banner,type:"error"}),!1;if(!r.yz_isImgExist(e,"banner"))return!1;return!0}(t.AD_banner))return!1}else if("adsense"==t.AD_type&&(null==t.AD_code||""==r.trim(t.AD_code)))return r.ShowPanelMessage({msg:yz.code_empty,type:"error"}),!1;return!0}})}(jQuery);