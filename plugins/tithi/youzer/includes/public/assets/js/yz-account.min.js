!function(c){"use strict";c(document).ready(function(){jQuery().niceSelect&&c(".youzer select").not('[multiple="multiple"]').niceSelect(),c(document).on("click",".yz-delete-item",function(e){var o=c(this).parent().data("wg"),t=(c(this).closest("form").attr("id"),c(this).parent().find(".yz-photo-url").val()),n=c(this).parent().find(".yz-photo-thumbnail").val();c(this).parent().addClass("removered").fadeOut(function(){c(this).remove(),"slideshow"!=o&&"portfolio"!=o||!t||(c.yz_DeletePhoto(t),c.yz_DeletePhoto(n)),c.yz_CheckItemsList()})}),c(document).on("click",".yz-upload-photo",function(e){e.preventDefault();var o=document.getElementById(c(this).attr("for"));if(o&&document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),o.dispatchEvent(t)}}),c(document).on("change",".yz_upload_file",function(e){e.stopPropagation();var o=new FormData,t=c(this),n=c(this)[0].files[0],i=c(this).closest(".yz-uploader-item"),a=i.find(".yz-photo-preview"),s=i.find(".yz-photo-url").val(),r=i.find(".yz-photo-thumbnail").val(),l=c(this).closest("form").find("input[name='security']").val();o.append("nonce",l),o.append("file",n),o.append("action","upload_files"),c.ajax({url:yz.ajax_url,type:"POST",data:o,contentType:!1,cache:!1,processData:!1,beforeSend:function(){c('<div class="yz-load-photo"><i class="fas fa-spinner fa-spin"></i></div>').hide().appendTo(a).fadeIn(800)},success:function(e){t.val("");var o=c.parseJSON(e);if(o.error)return a.find(".yz-load-photo").fadeOut(300).remove(),void c.ShowPanelMessage({msg:o.error,type:"error"});s&&(c.yz_DeletePhoto(s),c.yz_DeletePhoto(r)),a.find(".yz-load-photo").fadeOut(300,function(){c(this).remove(),a.fadeOut(100,function(){c(this).css("background-image","url("+yz.upload_url+o.thumbnail+")").fadeIn(400),i.find(".yz-photo-url").val(o.original).change(),i.find(".yz-photo-thumbnail").val(o.thumbnail).change(),i.find(".yz-delete-photo").addClass("yz-show-trash");var e=i.closest("form").serialize()+"&die=true";c.post(yz.ajax_url,e)})})}})}),c(document).on("click",".yz-menu-head i",function(e){e.preventDefault();var o=c(this).closest(".account-menus").find("ul").css("display");c(this).closest(".account-menus").find("ul").slideToggle(400),"block"==o?c(this).attr("class","fas fa-caret-down"):"none"==o&&c(this).attr("class","fas fa-caret-up")}),c(document).on("click",".yz-delete-photo",function(e){c(this).closest("form").attr("id");var o=c(this).closest(".yz-uploader-item"),t=o.find(".yz-photo-url").val(),n=o.find(".yz-photo-thumbnail").val();o.find(".yz-photo-url").val("").trigger("change"),o.find(".yz-photo-thumbnail").val("").trigger("change"),c.yz_DeletePhoto(t),c.yz_DeletePhoto(n),o.find(".yz-photo-preview").css("background-image","url("+yz.default_img+")"),c(this).removeClass("yz-show-trash");var i=o.closest("form").serialize()+"&die=true";c.post(yz.ajax_url,i)}),c.yz_CheckItemsList=function(){c(".yz-wg-skills-options li")[0]?c(".yz-no-skills").remove():c(".yz-no-skills")[0]||c(".yz-wg-skills-options").append('<p class="yz-no-content yz-no-skills">'+yz.no_items+"</p>"),c(".yz-wg-services-options li")[0]?c(".yz-no-services").remove():c(".yz-no-services")[0]||c(".yz-wg-services-options").append('<p class="yz-no-content yz-no-services">'+yz.no_items+"</p>"),c(".yz-wg-portfolio-options li")[0]?c(".yz-no-portfolio").remove():c(".yz-no-portfolio")[0]||c(".yz-wg-portfolio-options").append('<p class="yz-no-content yz-no-portfolio">'+yz.no_items+"</p>"),c(".yz-wg-slideshow-options li")[0]?c(".yz-no-slideshow").remove():c(".yz-no-slideshow")[0]||c(".yz-wg-slideshow-options").append('<p class="yz-no-content yz-no-slideshow">'+yz.no_items+"</p>")},c.yz_CheckItemsList(),c.yz_DeletePhoto=function(e){var o=new FormData;o.append("attachment",e),o.append("action","yz_delete_account_attachment"),c.ajax({type:"POST",data:o,url:Youzer.ajax_url,contentType:!1,processData:!1})},c(".yz-account-photo .yz-photo-url").on("change",function(e){e.preventDefault();var o=c(this).val();o||(o=yz.default_img),c(".yz-account-img").fadeOut(200,function(){c(this).css("background-image","url("+o+")").fadeIn(200)})}),c(".yz-user-provider-unlink").on("click",function(e){if(e.preventDefault(),c(this).hasClass("loading"))return!1;var t=c(this).closest(".yz-user-provider-connected"),n=c(this);n.addClass("loading");var o={action:"yz_unlink_provider_account",provider:c(this).data("provider"),security:c(this).data("nonce")};c.post(ajaxurl,o,function(e){var o=c.parseJSON(e);return o.error?(n.removeClass("loading"),c.yz_DialogMsg("error",o.error),!1):o.action?(n.removeClass("loading"),t.find(".yz-user-provider-token").val(""),t.find(".yz-user-provider-box").remove(),t.removeClass().addClass("yz-user-provider-unconnected"),c.yz_DialogMsg("success",o.msg),!1):void 0}).fail(function(e,o,t){return n.removeClass("loading"),c.yz_DialogMsg("error",Youzer.unknown_error),!1})})})}(jQuery);