!function(e){"use strict";e(document).ready(function(){e.ukai_tag_editor=function(){e.expr[":"].contains=e.expr.createPseudo(function(t){return function(i){return e(i).text().toUpperCase().indexOf(t.toUpperCase())>=0}});var t;e(".ukai-tagRemove").live("click",function(){event.preventDefault(),e(this).parent().remove()}),e("ul.ukai_tags").click(function(){e(this).find(".ukai_tags_field").focus(),t=e(this)}),e(".ukai_tags_field").keypress(function(i){if("13"==i.which){var a=e(this).val(),n=e(this).closest(".ukai_tags"),s=n.data("optionName"),u=e.ukai_check_tag_existence(n,a);""!=e.trim(a)&&0==u.length?(e('<li class="addedTag">'+a+'<span class="ukai-tagRemove">x</span><input type="hidden" value="'+a+'" name="'+s+'"></li>').insertAfter(t.find(".tagAdd")),e(this).val("")):(u.addClass("flash"),setTimeout(function(){u.removeClass("flash")},1e3),e(this).val("")),i.preventDefault()}})},e.ukai_check_tag_existence=function(t,i){var a=e();return t.find(".addedTag").each(function(){if(e.trim(e(this).text().replace("x","")).toLowerCase()===e.trim(i).toLowerCase())return a=e(this),!1}),a},e.ukai_tag_editor()})}(jQuery);